{% load static wagtailcore_tags wagtailimages_tags %}
{% load blog_filters %}

{% for post in blogpages %}
<div class="col-md-6 col-lg-4">
    <div class="blog-card h-100" style="background-color: #2d2d2d; border-radius: 12px; padding: 24px; border: 1px solid #404040; transition: all 0.3s ease;">
        <!-- Category Badge -->
        <div class="mb-3">
            {% if post.categories.exists %}
                <span class="badge" style="background-color: #D62042; color: white; font-size: 0.75rem; padding: 6px 12px; border-radius: 20px;">
                    {{ post.categories.first.name|upper }}
                </span>
            {% else %}
                <span class="badge" style="background-color: #D62042; color: white; font-size: 0.75rem; padding: 6px 12px; border-radius: 20px;">
                    MARKETING DIGITAL
                </span>
            {% endif %}
        </div>
        
        <!-- Post Title -->
        <h3 class="text-white fw-bold mb-3" style="font-size: 1.1rem; line-height: 1.4;">
            <a href="{% pageurl post %}" class="text-white text-decoration-none" title="{{ post.title }}">
                {{ post.title }}
            </a>
        </h3>
        
        <!-- Author Info -->
        <div class="d-flex align-items-center mb-3">
            <div class="author-avatar me-3" style="width: 32px; height: 32px; background: linear-gradient(45deg, #D62042, #ea0029); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-weight: bold; font-size: 0.9rem;">
                TK
            </div>
            <span class="text-muted small">TIAGO</span>
        </div>
        
        <!-- Read More Arrow -->
        <div class="text-end">
            <a href="{% pageurl post %}" class="btn-link" style="color: #D62042; text-decoration: none; font-size: 1.5rem;" title="Ler mais sobre {{ post.title }}">
                <i class="fas fa-arrow-right"></i>
            </a>
        </div>
    </div>
</div>
{% empty %}
<div class="col-12 text-center py-5">
    <h3 class="text-white">Nenhum post encontrado</h3>
    <p class="text-muted">Ainda não há artigos publicados no blog.</p>
</div>
{% endfor %}

